var p=Object.defineProperty;var v=(l,t,i)=>t in l?p(l,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[t]=i;var a=(l,t,i)=>v(l,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();class b{constructor(t,i={}){a(this,"config");a(this,"points",[]);a(this,"mouseX",0);a(this,"mouseY",0);a(this,"canvas");a(this,"ctx");a(this,"animationId",0);a(this,"logicalWidth",0);a(this,"logicalHeight",0);a(this,"tick",()=>{this.updateBasePositions(),this.step(),this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.draw(),this.animationId=requestAnimationFrame(this.tick)});this.canvas=t;const n=t.getContext("2d");if(!n)throw new Error("Canvas 2d context not available");this.ctx=n,this.config={x:i.x??.5,y:i.y??.5,radius:i.radius??.2,points:i.points??64,mouseRadius:i.mouseRadius??.25,repulsion:i.repulsion??8e-5,spring:i.spring??.04,damping:i.damping??.75},this.initPoints(),this.bindMouse()}initPoints(){this.points=[];for(let t=0;t<this.config.points;t++){const i=t/this.config.points*Math.PI*2;this.points.push({baseAngle:i,baseX:0,baseY:0,x:0,y:0,vx:0,vy:0})}}bindMouse(){const t=i=>{const n=this.canvas.getBoundingClientRect();this.mouseX=(i.clientX-n.left)/n.width,this.mouseY=(i.clientY-n.top)/n.height};this.canvas.addEventListener("mousemove",t),this.canvas.addEventListener("mouseleave",()=>{this.mouseX=-10,this.mouseY=-10})}updateBasePositions(){const t=this.logicalWidth,i=this.logicalHeight,n=this.config.x*t,e=this.config.y*i,o=Math.min(t,i)*this.config.radius;this.points.forEach(s=>{s.baseX=n+Math.cos(s.baseAngle)*o,s.baseY=e+Math.sin(s.baseAngle)*o})}step(){const t=this.logicalWidth,i=this.logicalHeight,n=this.mouseX*t,e=this.mouseY*i,o=Math.min(t,i)*this.config.mouseRadius;this.points.forEach(s=>{const h=s.x-n,c=s.y-e,r=Math.sqrt(h*h+c*c)||.001;if(r<o){const d=this.config.repulsion*(1/(r*r));s.vx+=h/r*d*t,s.vy+=c/r*d*i}s.vx+=(s.baseX-s.x)*this.config.spring,s.vy+=(s.baseY-s.y)*this.config.spring,s.vx*=this.config.damping,s.vy*=this.config.damping,s.x+=s.vx,s.y+=s.vy})}draw(){const{points:t,ctx:i}=this;if(t.length<2)return;i.beginPath();const n=t[0];i.moveTo(n.x,n.y);for(let o=1;o<t.length;o++){const s=t[(o-1+t.length)%t.length],h=t[o],c=t[(o+1)%t.length],r=t[(o+2)%t.length],d=h.x+(c.x-s.x)*.15,m=h.y+(c.y-s.y)*.15,x=c.x-(r.x-h.x)*.15,y=c.y-(r.y-h.y)*.15;i.bezierCurveTo(d,m,x,y,c.x,c.y)}i.closePath();const e=i.createRadialGradient(this.config.x*this.logicalWidth,this.config.y*this.logicalHeight,0,this.config.x*this.logicalWidth,this.config.y*this.logicalHeight,Math.min(this.logicalWidth,this.logicalHeight)*this.config.radius*1.5);e.addColorStop(0,"rgba(120, 180, 255, 0.45)"),e.addColorStop(.6,"rgba(80, 140, 220, 0.35)"),e.addColorStop(1,"rgba(60, 100, 180, 0.2)"),i.fillStyle=e,i.fill(),i.strokeStyle="rgba(120, 180, 255, 0.4)",i.lineWidth=1,i.stroke()}start(){this.animationId||(this.updateBasePositions(),this.points.forEach(t=>{t.x=t.baseX,t.y=t.baseY,t.vx=0,t.vy=0}),this.tick())}stop(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=0)}resize(){const t=Math.min(window.devicePixelRatio??1,2),i=this.canvas.getBoundingClientRect();this.logicalWidth=i.width,this.logicalHeight=i.height,this.canvas.width=Math.round(i.width*t),this.canvas.height=Math.round(i.height*t),this.canvas.style.width=`${i.width}px`,this.canvas.style.height=`${i.height}px`,this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(t,t)}}const g=document.getElementById("blob-canvas");if(!g)throw new Error("#blob-canvas not found");const u=new b(g,{x:.5,y:.5,radius:.22,points:72,mouseRadius:.28,repulsion:12e-5,spring:.052,damping:.78});function f(){u.resize()}f();u.start();window.addEventListener("resize",f);
